<!doctype html>
<html>
  <head>
    <title>Gerador de Ícones PWA</title>
  </head>
  <body>
    <canvas id="canvas" style="border: 1px solid #ccc"></canvas>
    <br /><br />
    <button onclick="generateIcons()">Gerar Ícones</button>
    <div id="downloads"></div>

    <script>
      function generateIcon(size) {
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");

        canvas.width = size;
        canvas.height = size;

        // Background
        ctx.fillStyle = "#8b5cf6";
        ctx.fillRect(0, 0, size, size);

        // Calculate proportional sizes
        const fontSize = size * 0.1;
        const strokeWidth = size * 0.04;
        const margin = size * 0.1;

        // Decorative parentheses
        ctx.strokeStyle = "white";
        ctx.lineWidth = strokeWidth;
        ctx.lineCap = "round";

        // Left parenthesis
        ctx.beginPath();
        ctx.arc(
          margin * 2,
          size / 2,
          size * 0.3,
          -Math.PI / 2,
          Math.PI / 2,
          true,
        );
        ctx.stroke();

        // Right parenthesis
        ctx.beginPath();
        ctx.arc(
          size - margin * 2,
          size / 2,
          size * 0.3,
          Math.PI / 2,
          -Math.PI / 2,
          true,
        );
        ctx.stroke();

        // Text
        ctx.fillStyle = "white";
        ctx.font = `bold ${fontSize}px Arial, sans-serif`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";

        // VERSO
        ctx.fillText("VERSO", size / 2, size / 2 - fontSize * 0.6);

        // DIÁRIO
        ctx.fillText("DIÁRIO", size / 2, size / 2 + fontSize * 0.6);

        // Decorative dots
        if (size >= 144) {
          const dotSize = size * 0.008;
          ctx.fillStyle = "rgba(255, 255, 255, 0.8)";

          ctx.beginPath();
          ctx.arc(
            size / 2 - fontSize,
            size - margin * 2,
            dotSize,
            0,
            2 * Math.PI,
          );
          ctx.fill();

          ctx.beginPath();
          ctx.arc(size / 2, size - margin * 2, dotSize, 0, 2 * Math.PI);
          ctx.fill();

          ctx.beginPath();
          ctx.arc(
            size / 2 + fontSize,
            size - margin * 2,
            dotSize,
            0,
            2 * Math.PI,
          );
          ctx.fill();
        }

        return canvas.toDataURL("image/png");
      }

      function downloadIcon(dataUrl, filename) {
        const link = document.createElement("a");
        link.download = filename;
        link.href = dataUrl;
        link.click();
      }

      function generateIcons() {
        const sizes = [
          16, 32, 57, 60, 72, 76, 96, 114, 120, 128, 144, 152, 180, 192, 384,
          512,
        ];
        const downloads = document.getElementById("downloads");
        downloads.innerHTML = "";

        sizes.forEach((size) => {
          const dataUrl = generateIcon(size);
          const link = document.createElement("a");
          link.href = dataUrl;
          link.download = `icon-${size}x${size}.png`;
          link.textContent = `Baixar ${size}x${size}`;
          link.style.display = "block";
          link.style.margin = "5px 0";
          downloads.appendChild(link);
        });
      }

      // Generate a preview
      generateIcon(192);
    </script>
  </body>
</html>
